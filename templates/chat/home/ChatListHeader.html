{% load static %}

<!-- START: Top Row: Heading, Search Bar, and Action Buttons -->
<div class="flex items-center justify-evenly p-2 mb-4">
    <div class="flex-1">
        <h2 class="text-3xl md:text-4xl font-bold text-teal-400">Chats</h2>
    </div>

    <!-- Search Bar -->
    <div class="flex-1">
        <div class="relative">
            <input type="text" id="search-bar" placeholder="Search users..." 
                class="w-full px-5 py-1 rounded-[40px] bg-slate-700 text-gray-300 border border-slate-600 focus:outline-none focus:ring-1 focus:ring-teal-700 pl-10">
            <span class="absolute left-3 top-2.5 text-gray-400">
                <img src="{% static 'chat/icons/search.png' %}" alt="Search" class="h-4 w-6">
            </span>
        </div>
    </div>

    <!-- Add Group Buttons -->
    <div class="flex-1 text-right">
        <button id="create-group-btn" class="p-2 rounded-full hover:bg-slate-900 focus:outline-none">
            <img src="{% static 'chat/icons/add-group.png' %}" class="h-8 w-8" alt="" srcset="">
        </button>
    </div>

</div>
<!-- END: Top Row: Heading, Search Bar, and Action Buttons -->


<li>Search people and start chatting.</li>
<li class="mb-4">You can search them by their name.</li>


<!-- START: Create Chat Group Modal (Initially Hidden) -->
<div id="create-group-modal" class="hidden z-50 px-4 fixed inset-0 bg-black bg-opacity-80 items-center justify-center">
    <div class="bg-slate-800 p-6 rounded-lg shadow-lg max-w-sm w-full">
        <h2 class="text-xl font-bold text-teal-400 mb-4">Create New Group</h2>
        
        <form action="{% url 'create_group' %}" method="post">
            {% csrf_token %}

            <!-- Group Name Input -->
            <input type="text" name="group_name" id="group-name" placeholder="Enter group name" 
                    class="w-full px-3 py-2 rounded-lg bg-slate-700 text-gray-300 border-2 border-slate-600 focus:outline-none focus:ring-1 focus:ring-teal-700 mb-4" required>
            
            <!-- Buttons -->
            <div class="flex justify-end">
                <button id="close-grp-create-modal-btn" class="px-4 py-2 bg-gray-700 text-white rounded-lg mr-2 hover:bg-gray-900">Cancel</button>
                <button type="submit" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-teal-900">Create</button>
            </div>
        </form>

    </div>
</div>

<script>
    // Open the create group modal
    const createGrpBtn = document.getElementById('create-group-btn');
    const closeCreateGrpModalBtn = document.getElementById('close-grp-create-modal-btn')
    const createGrpModal = document.getElementById('create-group-modal');

    createGrpBtn.addEventListener('click', () => {
        createGrpModal.classList.remove('hidden');
        createGrpModal.classList.add('flex');
    });
    closeCreateGrpModalBtn.addEventListener('click', () => {
        createGrpModal.classList.add('hidden');
        createGrpModal.classList.remove('flex');
    });
</script>
<!-- END: Create Chat Group Modal (Initially Hidden) -->